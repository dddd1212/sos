#ifndef __KEYBOARD_H__
#define __KEYBOARD_H__
#include "../Common/Qube.h"



#define KP 0x80 // KEYPAD mask - KP values are 0x8a-0xb9

#define L_SHFT 0xC0
#define R_SHFT 0xC1
#define L_CTRL 0xC2
#define R_CTRL 0xC3
#define L_ALT 0xC4
#define R_ALT 0xC5
#define L_GUI 0xC6
#define R_GUI 0xC7

#define CAPS 0xD0
#define NUM 0xD1
#define SCROLL 0xD2
#define HOME 0xe0
#define END 0xe1
#define INSERT 0xe2
#define DELETE 0xe3
#define PG_UP 0xe4
#define PG_DN 0xe5
#define UP 0xe6
#define DOWN 0xe7
#define LEFT 0xe8
#define RIGHT 0xe9
 
#define APPS 0xea

#define F1 0xF1
#define F2 0xF2
#define F3 0xF3
#define F4 0xF4
#define F5 0xF5
#define F6 0xF6
#define F7 0xF7
#define F8 0xF8
#define F9 0xF9
#define F10 0xFA
#define F11 0xFB
#define F12 0xFC

uint8 SHIFT_TABLE[0x100] = {
	/*0x00..0x0f*/  0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,     0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,
	/*0x10..0x1f*/  0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,     0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,
	/*0x20..0x2f*/  0x20,0x21,0x22,0x23,0x24,0x25,0x26,'"',      0x28,0x29,0x2a,0x2b,'<','_','>','?',
	/*0x30..0x3f*/  ')','!','@','#','$','%','^','&',             '*','(',0x3a,':',0x3c,'+',0x3e,0x3f,
	/*0x40..0x4f*/  0x40,0x41,0x42,0x43,0x44,0x45,0x46,0x47,     0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,
	/*0x50..0x5f*/  0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,     0x58,0x59,0x5a,'{','|','}',0x5e,0x5f,
	/*0x60..0x6f*/  '~','A','B','C','D','E','F','G',    'H','I','J','K','L','M','N','O',
	/*0x70..0x7f*/  'P','Q','R','S','T','U','V','W',    'X','Y','Z',0x7b,0x7c,0x7d,0x7e,0x7f,
	/*0x80..0x8f*/  0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,     0x88,0x89,0x8a,0x8b,0x8c,0x8d,0x8e,0x8f,
	/*0x90..0x9f*/  0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,     0x98,0x99,0x9a,0x9b,0x9c,0x9d,0x9e,0x9f,
	/*0xa0..0xaf*/  0xa0,0xa1,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,     0xa8,0xa9,0xaa,0xab,0xac,0xad,DELETE,0xaf, // Those 2 lines are for the num pad.
	/*0xb0..0xbf*/  INSERT,END,0xb2,PG_DN,0xb4,0xb5,0xb6,HOME,     0xb8,PG_UP,0xba,0xbb,0xbc,0xbd,DELETE,0xbf,
	/*0xc0..0xcf*/  0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,     0xc8,0xc9,0xca,0xcb,0xcc,0xcd,0xce,0xcf,
	/*0xd0..0xdf*/  0xd0,0xd1,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,     0xd8,0xd9,0xda,0xdb,0xdc,0xdd,0xde,0xdf,
	/*0xe0..0xef*/  0xe0,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,     0xe8,0xe9,0xea,0xeb,0xec,0xed,0xee,0xef,
	/*0xf0..0xff*/  0xf0,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,     0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff
};


uint8 SCAN_CODE_1_TABLE[0x80] = {
	/*0x00..0x0f*/	0,'\x27','1','2','3','4','5','6',        '7','8','9','0','-','=', '\b', '\t',
	/*0x10..0x1f*/	'q','w','e','r','t','y','u','i',         'o','p','[',']','\n',L_CTRL,'a','s',
	/*0x20..0x2f*/  'd','f','g','h','j','k','l',';',         '\'','`', L_SHFT, '\\', 'z','x','c','v',
	/*0x30..0x3f*/  'b','n','m',',','.','/',R_SHFT, KP|'*',  L_ALT,' ',CAPS,F1,F2,F3,F4,F5,
	/*0x40..0x4f*/  F6,F7,F8,F9,F10, NUM, SCROLL,KP|'7',     KP|'8',KP|'9',KP|'-',KP|'4',KP|'5',KP|'6',KP|'+',KP|'1',
	/*0x50..0x5f*/  KP|'2',KP|'3',KP|'0',KP|'.',0,0,0,F11,   F12,0,0,0,0,0,0,0,
	/*0x60..0x6f*/  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	/*0x70..0x7f*/  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
};

#define SCAN_CODE_1_SECOND 0xE0
uint8 SCAN_CODE_1_SECONDARY_TABLE[0x80] = {
	/*0x00..0x0f*/ 0,0,0,0,0,0,0,0,    0,0,0,0,0,0,0,0,
	/*0x10..0x1f*/ 0,0,0,0,0,0,0,0,    0,0,0,0,KP | '\n',L_CTRL,0,0,
	/*0x20..0x2f*/ 0,0,0,0,0,0,0,0,    0,0,0,0,0,0,0,0,
	/*0x30..0x3f*/ 0,0,0,0,0,0,0,0,    R_ALT,0,0,0,0,0,0,0,
	/*0x40..0x4f*/ 0,0,0,0,0,0,0,HOME,    UP,PG_UP,0,LEFT,0,RIGHT,0,END,
	/*0x50..0x5f*/ DOWN,PG_DN,INSERT,DELETE,0,0,0,0,    0,0,0,L_GUI,R_GUI,APPS,0,0,
	/*0x60..0x6f*/ 0,0,0,0,0,0,0,0,    0,0,0,0,0,0,0,0,
	/*0x70..0x7f*/ 0,0,0,0,0,0,0,0,    0,0,0,0,0,0,0,0
};

EXPORT uint8 getch();

#endif // __KEYBOARD_H__
